# 第一题

## 第一问

find_name_value函数的功能是从一个文件夹名称字符串中分割并提取其中的变量名和变量值，并返回一个包含变量名和变量值（如果变量值后加一个n则表示该变量值为负的，输出的值前面加一个负号）的元组，若无法提取变量值，则返回变量名和None。

  

正则表达式pattern用于检测文件名中的数字，可以是浮点数或者整数。

## 第二问

为了测试，我们在源程序的基础上添加了下面的程序：

```python

filename = input("Enter the name of the directory: ")

print(find_name_value(filename))

```

### 测试

在终端的输入和输出：

```bash

Enter the name of the directory: fsad-

('fsad-', None)

  

Enter the name of the directory: adfs+

('adfs+', None)

  

Enter the name of the directory: xN14.2

('xN', 14.2)

  

Enter the name of the directory: phi0.3

('phi', 0.3)

  

Enter the name of the directory: kappa0.5n

('kappa', -0.5)

  

Enter the name of the directory: alpha 1

('alpha ', 1.0)

  

Enter the name of the directory: tear

('tear', None)

  

Enter the name of the directory: tew52

('tew', 52.0)

  

Enter the name of the directory: sdg-2

('sdg', -2.0)

  

Enter the name of the directory: sdg-2n

Traceback (most recent call last):

  File "c:\Users\zxj\Desktop\find.py", line 45, in <module>

    print(find_name_value(filename))

          ^^^^^^^^^^^^^^^^^^^^^^^^^

  File "c:\Users\zxj\Desktop\find.py", line 42, in find_name_value

    return name, float(value)

                 ^^^^^^^^^^^^

ValueError: could not convert string to float: '--2'

```

发现最后两条测试发现bug：

程序要求当输入是`sdg-2`时返回`('sdg-', 2.0)`，当输入是`sdg-2n`时返回`('sdg-', -2.0)`而程序运行结果不符合或者报错，故需修改。

### 对程序修改：

将

```python

pattern = '([-+]?\d*\.\d+|[-+]?\d+)'

```

改为：

```python

pattern = '(\d*\.\d+|\d+)'

```

改后测试：

```bash

Enter the name of the directory: sdaf-2

('sdaf-', 2.0)

  

Enter the name of the directory: saf-2n

('saf-', -2.0)

```

  

## 第三问

代入修改后的程序的结果：

```bash

Enter the name of the directory: phi0.1_xN14.2_kappa0.5n

('phi', 0.1)

  

Enter the name of the directory: a1_b14n_n0_c0.2

('a', 1.0)

```

故文件夹名称对应的变量名和值为：

"phi0.1_xN14.2_kappa0.5n":  ('phi', 0.1)

"a1_b14n_n0_c0.2": ('a', 1.0)

  

# 第二题

下面是Matlab代码：

```matlab

R = 3;

  

r = 1;

  

theta = linspace(-pi/2, pi/2);

  

phi = linspace(0, 2*pi);

  

[Theta, Phi] = meshgrid(theta, phi);

  

x = (R + r * cos(Theta)) .* cos(Phi);

  

y = (R + r * cos(Theta)) .* sin(Phi);

  

z = r * sin(Theta);

  

surf(x,y,z,'EdgeColor', 'none');

```

下面是渲染后的图：

![[loop.jpg]]

# 第三题

## 第一问

mathematica代码如下：

```mathematica

Sum[1/(n^3+n^2), {n, 1, \[Infinity]}]

```

结果：

$$

-1 + \frac{\pi^2}{6}

$$

## 第二问

mathematica代码如下：

```mathematica

Integrate[((x)^(1/2)*Log[x])/((x+1)^2), {x, 0, \[Infinity]}]

  

```

结果：

$$

\pi

$$

  

# 第四问

  

## 渲染效果：

  ![[q4.png]]

具体渲染pdf的效果见q4.tex文件转出的q4.pdf文件

## Latex代码


```latex

\begin{document}

\textbf{Q}: Find the solution of the following equation with respect to $\theta$ :

$$

A \cos \theta+B \sin \theta+C=0

$$

  

\textbf{A}:

let $x_1=\cos \theta$ and $x_2=\sin \theta$, then the solution is given by the intersection of the circle and the line:

$$

\begin{aligned}

x_1^2+x_2^2 & =1 \\

A x_1+B x_2+C & =0

\end{aligned}

$$

  

We reformulate the equations in a parametric form:

$$

\begin{array}{r}

|\mathbf{x}|^2=1 \\

\mathbf{x}(t)=\mathbf{a}+t \mathbf{b}

\end{array}

$$

where $\mathbf{x}=\left(x_1, x_2\right), \mathbf{a}=(0,-C / B), \mathbf{b}=(-C / A, C / B)$, and $t$ is a parameter. The intersection points satisfy the following equation:

$$

|\mathbf{a}+t \mathbf{b}|^2=1

$$

  

which can be solved for $t$ to find the intersection points:

$$

t_{1,2}=\frac{-\mathbf{a} \cdot \mathbf{b} \pm \sqrt{(\mathbf{a} \cdot \mathbf{b})^2-|\mathbf{b}|^2\left(|\mathbf{a}|^2-1\right)}}{|\mathbf{b}|^2}

$$

\end{document}

```